<div class="profile-container">
  <div class="profile-card">
    <div class="profile-header">
      <div class="avatar">
        <img [src]="profile.avatar" [alt]="profile.nickname">
      </div>
      <h1>Mi Perfil</h1>
      <p *ngIf="!editMode">{{ profile.nickname }}</p>
    </div>

    <div class="success-message" *ngIf="savedMessage">
      ✓ Perfil actualizado correctamente
    </div>

    <div class="profile-body">
      <div class="form-section">
        <h2>Información Personal</h2>

        <div class="form-group">
          <label>Nickname</label>
          <input
            type="text"
            [(ngModel)]="profile.nickname"
            [disabled]="!editMode"
            placeholder="Tu nickname">
        </div>

        <div class="form-group">
          <label>Email</label>
          <input
            type="email"
            [(ngModel)]="profile.email"
            [disabled]="!editMode"
            placeholder="tu@email.com">
        </div>
      </div>

      <div class="form-section">
        <h2>Tipos de Pokémon Favoritos</h2>
        <p class="section-description">
          Selecciona tus tipos de Pokémon favoritos
        </p>

        <div class="types-grid">
          <button
            *ngFor="let type of availableTypes"
            class="type-button"
            [class.selected]="isTypeSelected(type)"
            [style.background-color]="isTypeSelected(type) ? getTypeColor(type) : 'transparent'"
            [style.border-color]="getTypeColor(type)"
            [style.color]="isTypeSelected(type) ? 'white' : getTypeColor(type)"
            (click)="editMode && toggleType(type)"
            [disabled]="!editMode">
            {{ type | titlecase }}
          </button>
        </div>

        <div class="selected-types" *ngIf="profile.favoriteTypes.length > 0">
          <strong>Seleccionados:</strong>
          <span
            *ngFor="let type of profile.favoriteTypes"
            class="type-badge"
            [style.background-color]="getTypeColor(type)">
            {{ type | titlecase }}
          </span>
        </div>
      </div>

      <div class="actions">
        <button
          *ngIf="!editMode"
          class="edit-btn"
          (click)="toggleEditMode()">
          Editar Perfil
        </button>

        <div *ngIf="editMode" class="edit-actions">
          <button class="save-btn" (click)="saveProfile()">
            Guardar Cambios
          </button>
          <button class="cancel-btn" (click)="toggleEditMode()">
            Cancelar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
